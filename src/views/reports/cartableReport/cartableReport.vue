<template>
  <CustomDataTable
    ref="dataTableRef"
    :headers="headers"
    api-resource="cartable-report"
    :auto-fetch="true"
    :show-pagination="true"
    :height="550"
    :filter-component="FilterCartable"
    :custom-actions="customActions"
  />
</template>
<script lang="ts" setup>
import CustomDataTable from '@/components/shared/CustomDataTable.vue';
import FilterCartable from '@/views/reports/cartableReport/cartableReportFilter.vue';
import { CartableStatusTypeOptions, CustomerTypeOptions } from '@/types/enums/global';
import Details from '@/components/sections/report/details/Details.vue';
import { computed, h} from 'vue';

// Computed property for custom actions to ensure reactivity
const customActions = computed(() => [
  {
    title: 'ðŸ”ï¸ Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ±',
    component: (props: any) => h(Details, { ...props }),
  },
]);

const headers = [
  {
    title: 'Ú©Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª',
    key: 'trackingCode',
    sortable: true,
    width: 200
  },
  {
    title: 'Ú©Ø¯ Ù…Ø´ØªØ±ÛŒ',
    key: 'customerCode',
    sortable: true,
    editable: true,
    width: 200
  },
  {
    title: 'Ù†Ø§Ù… Ù…Ø´ØªØ±ÛŒ',
    key: 'customerName',
    sortable: true,
    editable: true,
    width: 200
  },
  {
    title: 'Ú¯Ø±ÙˆÙ‡ Ù…Ø´ØªØ±ÛŒ',
    key: 'customerGroup',
    sortable: true,
    width: 200
  },
  {
    title: 'Ù†ÙˆØ¹ Ù…Ø´ØªØ±ÛŒ',
    key: 'customerType',
    sortable: true,
    width: 200,
    translate: true,
    options: CustomerTypeOptions
  },
  {
    title: 'ÙˆØ¶Ø¹ÛŒØª',
    key: 'status',
    sortable: true,
    translate: true,
    options: CartableStatusTypeOptions,
    width: 200
  },
  {
    title: 'Ø´Ø¹Ø¨Ù‡ Ø«Ø¨Øª Ú©Ù†Ù†Ø¯Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª',
    key: 'branchName',
    sortable: true,
    editable: true,
    width: 200
  },
  {
    title: 'Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø·',
    key: 'createByName',
    sortable: true,
    editable: true,
    width: 200
  },
  {
    title: 'ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯',
    key: 'creationDate',
    sortable: true,
    editable: true,
    isDate: true,
    width: 200
  },
  {
    title: 'Ø±Ú©Ù† Ù…Ø³Ø¦ÙˆÙ„',
    key: 'departmentLevelName',
    sortable: true,
    editable: true,
    width: 200
  },
  {
    title: 'Ù†Ù‚Ø´ Ù…Ø³Ø¦ÙˆÙ„',
    key: 'roleDescription',
    sortable: true,
    editable: true,
    width: 200
  }
];
</script>
